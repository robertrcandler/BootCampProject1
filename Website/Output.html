<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Texas Big Cat Finder</title>
    <link rel="stylesheet" href="assets/app.css">
    <link rel="stylesheet" href="Output.css">

  </head>
<body>

    <!--Change this to mobile responsive navbar-->
    <nav class="top-bar topbar-responsive">
        <div class="top-bar-title">
          <span data-responsive-toggle="topbar-responsive" data-hide-for="medium">
            <button class="menu-icon" type="button" data-toggle></button>
          </span>
          <a class="topbar-responsive-logo" href="#"><strong>Texas Big Cats Finder</strong></a>
        </div>
        <div id="topbar-responsive" class="topbar-responsive-links">
          <div class="top-bar-right">
            <ul class="menu simple vertical medium-horizontal">
              <li><a href="main.html">Home</a></li>
              <li><a href="History.html"> Search History</a></li>

              <li>
                <button type="button" class="button hollow topbar-responsive-button">Categories</button>
              </li>
            </ul>
          </div>
        </div>
      </nav>


      <main>
      <div class="travel-feature-card">
        <div class="travel-feature-card-header{{#if type}} icon {{type}}-icon{{/if}}">
          <div class="row">
             <div class="medium-12 columns">
               <h5 class="travel-feature-card-subtitle"></h5>
                <div class="travel-feature-card-header-controls">
                  <span><a href="#"><i class="fa fa-edit"></i></a></span>
                  <span><a href="#"><i class="fa fa-remove"></i></a></span>
               </div>
            </div>
          </div>  
        </div>
      
      
        <div class="travel-feature-card-details">
          
          <h5 class="title">Mountain Lion Sighting</h5>
          <h6  id="generalLocation" class="travel-feature-card-date-range"></h6>
          
          <div class="row">
            <div class="small-12 medium-9 columns travel-feature-card-content">
              <div class="row">
                <div class="small-4 medium-2 columns">
                  <img  id="photos" class="travel-feature-card-image" src="https://static.inaturalist.org/photos/63041075/square.jpeg?1583700137" alt="Pic here">
                </div>
                <div class="small-8 medium-10 columns">
                  <h6 class="travel-feature-card-title">Sighting Info</h6>
                  <ul>
                    <li id="species_guess" >Species</li>
                    <li id="description">Description</li>
                    <li id="time_observed_at">Time</li>
                    <li id="observed_on_details">Date</li>
                    <li id="comments">Comments</li>
                  </ul>                </div>
              </div> 
            </div>
      
            
          </div> 
        </div>
      </div>

      <!--Second Card Start Here-->

      <div class="travel-feature-card">
        <div class="travel-feature-card-header{{#if type}} icon {{type}}-icon{{/if}}">
          <div class="row">
             <div class="medium-12 columns">
               <h5 class="travel-feature-card-subtitle"></h5>
                <div class="travel-feature-card-header-controls">
                  <span><a href="#"><i class="fa fa-edit"></i></a></span>
                  <span><a href="#"><i class="fa fa-remove"></i></a></span>
               </div>
            </div>
          </div>  
        </div>
      
      
        <div class="travel-feature-card-details">
          
          <h5 class="title">Mountain Lion Sighting</h5>
          <h6  id="generalLocation2" class="travel-feature-card-date-range"></h6>
          
          <div class="row">
            <div class="small-12 medium-9 columns travel-feature-card-content">
              <div class="row">
                <div class="small-4 medium-2 columns">
                  <img  id="photos2" class="travel-feature-card-image" src="https://static.inaturalist.org/photos/5828057/square.jpg?1481924323 alt="Pic here">
                </div>
                <div class="small-8 medium-10 columns">
                  <h6 class="travel-feature-card-title">Sighting Info</h6>
                  <ul>
                    <li id="species_guess2" >Species</li>
                    <li id="description2">Description</li>
                    <li id="time_observed_at2">Time</li>
                    <li id="observed_on_details2">Date</li>
                    <li id="comments2">Comments</li>
                  </ul>                </div>
              </div> 
            </div>
      
            
          </div> 
        </div>
      </div>

      <!--Third card begins here-->

      <div class="travel-feature-card">
        <div class="travel-feature-card-header{{#if type}} icon {{type}}-icon{{/if}}">
          <div class="row">
             <div class="medium-12 columns">
               <h5 class="travel-feature-card-subtitle"></h5>
                <div class="travel-feature-card-header-controls">
                  <span><a href="#"><i class="fa fa-edit"></i></a></span>
                  <span><a href="#"><i class="fa fa-remove"></i></a></span>
               </div>
            </div>
          </div>  
        </div>
      
      
        <div class="travel-feature-card-details">
          
          <h5 class="title">Mountain Lion Sighting</h5>
          <h6  id="generalLocation3" class="travel-feature-card-date-range"></h6>
          
          <div class="row">
            <div class="small-12 medium-9 columns travel-feature-card-content">
              <div class="row">
                <div class="small-4 medium-2 columns">
                  <img  id="photos2" class="travel-feature-card-image" src=https://static.inaturalist.org/photos/6478391/square.jpg?1488837568" alt="Pic here">
                </div>
                <div class="small-8 medium-10 columns">
                  <h6 class="travel-feature-card-title">Sighting Info</h6>
                  <ul>
                    <li id="species_guess3" >Species</li>
                    <li id="description3">Description</li>
                    <li id="time_observed_at3">Time</li>
                    <li id="observed_on_details3">Date</li>
                    <li id="comments3">Comments</li>
                  </ul>                </div>
              </div> 
            </div>
      
            
          </div> 
        </div>
      </div>

      
    </main>
      
      <!--Output container goes here

        



      <main class="output">
      <div class="work-feature-block row">
        <div class="columns medium-7">
          <img class="work-feature-block-image" alt="Placeholder image" src="https://boygeniusreport.files.wordpress.com/2019/12/waze-live-map-virginia-2.jpg?quality=98&strip=all&w=782"/>
        </div>
        <div id="detailsContainer" class="columns medium-5">
          <h2 class="work-feature-block-header">Recent. </h2>
          <p class="shortDesc ">This is all placeholder text that can be deleted once we assign output to these elements.</p>
          <h2 class="listHeader">Sighting 1</h2>
          <ul>
            <li class="species_guess" >Species</li>
            <li class="description">Description</li>
            <li class="time_observed_at">Time</li>
            <li class="observed_on_details">Date</li>
            <li class="">Comments</li>
          </ul>

          <h2 class="listHeader">Sighting 2</h2>
          <ul>
            <li class="species_guess" >Species</li>
            <li class="description">Description</li>
            <li class="time_observed_at">Time</li>
            <li class="observed_on_details">Date</li>
            <li class="">Comments</li>
          </ul>

          <h2 class="listHeader">Sighting 3</h2>
          <ul>
            <li class="species_guess" >Species</li>
            <li class="description">Description</li>
            <li class="time_observed_at">Time</li>
            <li class="observed_on_details">Date</li>
            <li class="">Comments</li>
          </ul>
      </div>
      </main>
      
          
        
      Output container goes here-->

      
      <!--Footer goes here-->

      

      <!--Footer goes here-->


    
      
      

  
   

<!--app.css , app.js , app.js.map are the Foundation files (Jason)-->
<script src="assets/app.js"></script>
<script>
  var map;
        function initMap() {
          map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 31.9686, lng: -99.9018},
            zoom: 6
            
          });console.log('success')
        }
  </script>
<script>

function iNatAPI() {
//put way to call submit button location or what ever
//make function to create lattitude/longitude box out of location name
//link species name from html to species id here
//required variables
var request;
var examplequeryURL = 'https://api.inaturalist.org/v1/observations?taxon_name=bear&captive=false&verifiable=true&lat=29.4704&lng=-103.9578&radius=5&order=desc&order_by=created_at';
var siteurl = 'https://api.inaturalist.org/v1/observations?';
var mappable = 'mappable=true'; //can put on map, keep true
var order = '&order=desc&order_by=created_at'; //order that results are listed
var queryURL = siteurl + mappable + order;
//range calculator
function iNatRange() {
//one place, don't know what radius of zone is? but fairly decent sized
var lat = '&lat=29.211183'; //lattitude
var lng = '&lng=-103.236002'; //longitude
//sample box
var boxarea = '&nelat=29.3&nelng=-103.2&place_id=any&swlat=29.24&swlng=-103.4';
//all of texas
var texas = '&place_id=18';
//location search
var coord = "";//using box area as example, create box creater using google api
switch (coord) {
    case boxarea:
        queryURL=queryURL+boxarea;
        break;
    case "":
        queryURL=queryURL+texas;
        break;
}
}
iNatRange();
//cat search adder
function iNatCat() {
//there are no recorded panther/jaguar sightings in texas
var mammal = '&iconic_taxon_name=mammalia'; //this works, searches all mammals
var mountainLion = '&taxon_id=42006'; //includes, puma, couger, mountain lion
//there are no recorded panther/jaguar sightings in texas
var ocelot = '&taxon_id=41997';//includes margay
var Jaguarundi = '&taxon_id=197783';
var bobcat = '&taxon_id=41976';
var kitty = '&taxon_id=118552';//domestic cat
var bear = '&taxon_id=41638';//american black bear
var coyote = '&taxon_id=42051';
//search or button functionality
var searchAnimal = "Mountain Lion";//using ocelot as example/link to doc later
switch (searchAnimal) {
    case ""://all cats
        queryURL = queryURL + mountainLion + ocelot + Jaguarundi + bobcat + kitty;
        break;
    case "Ocelot":
    case "Margay":
        queryURL = queryURL + ocelot;
        break;
    case "Mountain Lion":
    case "Puma":
    case "Couger":
        queryURL = queryURL + mountainLion;
        break;
    case "Jaguarundi":
        queryURL = queryURL + Jaguarundi;
        break;
    case "Bobcat":
        queryURL = queryURL +bobcat;
        break;
    case "Cat":
        queryURL = queryURL + kitty;
        break;
    default:
        alert("Something went wrong!");
}
}
// <li id="species_guess" >Species</li>
//<li id="description">Description</li>
//                  <li id="time_observed_at">Time</li>
  //                <li id="observed_on_details">Date</li>
    //              <li id="comments">Comments</li>
iNatCat();
//I added these constants -Jason
//First Card
const photos=document.getElementById("photos");
const species_guess=document.getElementById("species_guess");
const description=document.getElementById("description");
const time_observed_at=document.getElementById("time_observed_at");
const observed_on_details=document.getElementById("observed_on_details");
const comments=document.getElementById("comments");
const generalLocation=document.getElementById("generalLocation");

//Second Card
const photos2=document.getElementById("photos2");
const species_guess2=document.getElementById("species_guess2");
const description2=document.getElementById("description2");
const time_observed_at2=document.getElementById("time_observed_at2");
const observed_on_details2=document.getElementById("observed_on_details2");
const comments2=document.getElementById("comments2");
const generalLocation2=document.getElementById("generalLocation2");

//Third Card
const photos3=document.getElementById("photos3");
const species_guess3=document.getElementById("species_guess3");
const description3=document.getElementById("description3");
const time_observed_at3=document.getElementById("time_observed_at3");
const observed_on_details3=document.getElementById("observed_on_details3");
const comments3=document.getElementById("comments3");
const generalLocation3=document.getElementById("generalLocation3");

// -Jason 

console.log(queryURL);
request = new XMLHttpRequest();
request.open('GET', queryURL, true);
request.onload = function () {
var $map = $('#map')
var data = JSON.parse(this.response);
if (request.status >= 200 && request.status < 400) {
    console.log(data);
    $.each(data, function(i, item) {
        var catData = JSON.stringify(data.results[0].place_guess);
        var catData2 = JSON.stringify(data.results[0].quality_grade);
        var catData3 = JSON.stringify(data.results[3].comments[1].body);
        // I added these lines SUe JSOn_Query -Jason
        var photos = (data.results[6].photos[0].url);
      
        //photos.attr= `<img src="static.inaturalist.org/photos/63041075/square.jpeg?1583700137"/>`
        //photos.innerHTML= data.results[0].photos[0].url;

        //First Card
        species_guess.innerHTML = "Species: " + data.results[3].species_guess;
        description.innerHTML = "Description: " + data.results[25].description;
        time_observed_at.innerHTML = "Time spotted: " + data.results[3].time_observed_at;
        observed_on_details.innerHTML = "Date Spotted: " + data.results[3].observed_on;
        comments.innerHTML = "Comments: " + data.results[3].comments[1].body;
        generalLocation.innerHTML = "Location: " + data.results[3].place_guess;
        
        if (data.results[3].time_observed_at = "null") {
          time_observed_at.innerHTML = " Time spotted: No info"
        }
        //Second Card
        species_guess2.innerHTML = "Species: " + data.results[6].species_guess;
        description2.innerHTML = "Description: " + data.results[6].description;
        time_observed_at2.innerHTML = "Time spotted: " + data.results[6].time_observed_at;
        observed_on_details2.innerHTML = "Date Spotted: " + data.results[6].observed_on;
        comments2.innerHTML = "Comments: " + data.results[6].comments[1].body;
        generalLocation2.innerHTML = "Location: " + data.results[6].place_guess;

        //Third Card
        species_guess3.innerHTML = "Species: " + data.results[15].species_guess;
        description3.innerHTML = "Description: " + data.results[15].description;
        time_observed_at3.innerHTML = "Time spotted: " + data.results[15].time_observed_at;
        observed_on_details3.innerHTML = "Date Spotted: " + data.results[15].observed_on;
        comments3.innerHTML = "Comments: " + data.results[15].comments[0].body;
        generalLocation3.innerHTML = "Location: " + data.results[15].place_guess;

        //- Jason 

        console.log(photos);
        console.log(catData);
        console.log(catData2);
        console.log(catData3);

        // 2 arguments passed above are i which is index, and the actual item
      $map.append('<div>city ' + data.photo + ' </div>');
      console.log("y");
    });
}
 else {
    console.log("something went wrong");
}
}
request.send();
}
iNatAPI();
//End Robert's JS
//Here I am working on pulling an object (photo) from the API arrays - Jason
function getInfo() {
fetch(apiURL)
.then(resp => resp.jas)
}
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAmqDHas64RFD_96u5h8kJ1OFWEFdweH80&callback=initMap"
></script>


<!-- DOUBLE CHECK THE CDNs BELOW IF YOU RUN INTO ISSUES, THESE WERE TAILORED FOR A SPECIFIC HW ASSIGNMENT OF MINE - GEORGE -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
  integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
  crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
  integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
  crossorigin="anonymous"></script>

 <!-- DOUBLE CHECK THE CDNs BELOW IF YOU RUN INTO ISSUES, THESE WERE TAILORED FOR A SPECIFIC HW ASSIGNMENT OF MINE - GEORGE -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>